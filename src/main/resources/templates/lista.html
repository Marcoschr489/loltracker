<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Campeões Salvos</title>
  <link rel="stylesheet" th:href="@{/style.css}" />
</head>
<body>
<h1>Campeões Salvos</h1>

<a href="/campeoes/novo">
  <button type="button" class="botao_dex">Novo Campeão</button>
</a>

<div class="campeoes-grid">
  <div th:each="campeao : ${campeoes}" class="campeao-card">
    <button class="btnDetalhes" th:attr="data-nome=${campeao.nome}">Ver Detalhes</button>

    <div class="nome" th:text="${campeao.nome}">Nome do Campeão</div>

    <div class="detalhes">
      <span><strong>Role:</strong> <span th:text="${campeao.role}">Role</span></span><br>
      <span><strong>Lane:</strong> <span th:text="${campeao.lane}">Lane</span></span><br>
    </div>

    <div class="tooltip-container">
      <img th:src="@{'/maestria/maestria' + ${campeao.maestria} + '.jfif'}"
           class="maestria" alt="icone maestria" />

      <img th:src="@{'/icones/' + ${#strings.toLowerCase(campeao.nome)} + '/icone.webp'}"
           alt="Ícone do Campeão"
           class="icone-campeao"
           onerror="
              this.onerror=null;
              this.src=this.src.replace('.webp', '.png');
              this.onerror=function() {
                  this.src=this.src.replace('.png', '.jpg');
                  this.onerror=function() {
                      this.src=this.src.replace('.jpg', '.jfif');
                      this.onerror=null;
                  };
              };
           " />

      <!-- Modal -->
      <div id="modalDetalhes" class="modal" style="display: none;">
        <div class="modal-content">
          <span id="fecharModal" class="close">&times;</span>
          <h2 id="nomeCampeao"></h2>
          <img id="splashArt" src="" alt="splash" style="max-width:100%">
          <div id="habilidades"></div>
          <p id="descricao"></p>
          </div>
        </div>
          <img th:src="@{/assets/{nome}/lol.gif(nome=${campeao.nome.toLowerCase()})}"
               alt="Gif do Campeão"
               style="width: 150px;">
        </div>
      </div>

      <!-- Habilidades -->
      <th:block th:with="nome=${#strings.toLowerCase(campeao.nome)}">
        <img th:src="@{'/splashArt/Campeoes/' + ${nome} + '/q.webp'}"
             class="icone habilidade-icone"
             th:attr="data-campeao=${nome}, data-habilidade='q'" />

        <img th:src="@{'/splashArt/Campeoes/' + ${nome} + '/w.webp'}"
             class="icone habilidade-icone"
             th:attr="data-campeao=${nome}, data-habilidade='w'" />

        <img th:src="@{'/splashArt/Campeoes/' + ${nome} + '/e.webp'}"
             class="icone habilidade-icone"
             th:attr="data-campeao=${nome}, data-habilidade='e'" />

        <img th:src="@{'/splashArt/Campeoes/' + ${nome} + '/r.webp'}"
             class="icone habilidade-icone"
             th:attr="data-campeao=${nome}, data-habilidade='r'" />

        <img th:src="@{'/splashArt/Campeoes/' + ${nome} + '/passive.webp'}"
             class="icone habilidade-icone"
             th:attr="data-campeao=${nome}, data-habilidade='passive'" />
      </th:block>
    </div>

    <a th:href="@{'/campeoes/editar/' + ${campeao.id}}">
      <button type="button" class="botao-editar">Editar</button>
    </a>
  </div>
</div>

<script src="/js/lista.js"></script>
<script src="button.js"></script>
</body>
</html>
